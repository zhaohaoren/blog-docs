# 【设计模式】序

设计模式好多乱七八糟的概念定义，这些有些好记，有些记不住。我先简单说下我的几个看法。



迪特米法则

就是引入一个第三者做调解人。





## 先说说编程思想

1. 面向抽象编程
2. 接口大于类
3. 少继承多关联



在豆瓣上搜索了一下评价最好的一本书了

![image-20200806211011660](D:\workspace\blog-docs\docs\设计模式\begin.png)

主要从这本书出发，通过自己的实践和复习以及再参考一些其他的数据，去不断的丰富它。







设计模式的感觉：一看就动，一用就想不起来。



创建型和结构型都是比较简单的模式，重点是行为型模式，他能很明显的改善我们的程序结构。



不懂设计模式，不看源码。这倒是真话！不带着设计模式的思想去看源码，那就是去看调用逻辑的，那看源码看不到精髓。如果看源码是为了学习的话，我觉得应该注重2点：1. 算法及实现思想（比如实现某个问题的方案） 2. 程序结构设计（就是设计模式了）。而不是纯粹的去追溯逻辑，这个类调那个类，那个类又调了那个类，这么看源码应该叫做人肉Debug吧。 



TODO：我的文章还缺最重点的一个环节，就是实际用例案例 或者源码中的用法。





## 谈谈设计模式

谈一谈在学习过程中我对设计模式的一些理解：

### 1. 模式灵活多变

没有说书上的模式是最好的，所有的模式都是服务于场景。永远选择你场景下你觉得最适合的你模式。也就是说，你如果做抽象，可能没必要做到设计模式书上那么高的抽象，你可以适当的降低抽象层。这就和数据库范式设计一样，适当的时候反范式也是必要的，只要对系统结构优化达到目标了就行。模式是方便你自己的，但是代码也是写给人看的，太高的抽象很多时候没必要，也让别人不好理解。

### 2. 勤设计，勤反思

我们很容易就陷入过度设计的泥坑，但是人总是想整点东西上去，所以每次我们对一个模块进行重构之后，自己再梳理一遍：我这么改了之后，对整个系统或者模块是否有了改进？方便了我们的开发吗？有益了代码的维护吗？如果没有那么大可不必，如果还变坏了那么就可能是过度设计。

### 3. 思维不要太僵化于固定模式

有些场景下我们会立刻想到某个设计模式，他们完美的契合。但是大部分场景可能找不到对应的设计模式，亦或者是你一时间没想起来。需要认清，所有（大部分吧）的设计模式也都是为了解决系统中存在的不合理的点，也就是你觉得很复杂，写的很费劲的地方。而设计模式的大部分做法就是进行抽象然后试着剥离解耦。其实我们完全可以不用将思想僵化在书上固定的设计模式里面，我们可以按照自己的思维对系统进行抽象解耦，也能得到比较好的效果（只要对系统提升一点点那就是有帮助的）。

### 4. 设计模式并不高深

我们只要懂一些基础的原则性的东西：比如开闭原则，里式替换等。更粗糙点讲：**如果想要扩展就尝试抽象一层，如果想要复用能用关联组合就不要使用继承！** 心中有了这些基本的原则，随便一写程序，里面多多少少都已经有了某种模式的味道在里面了，只是可能不标准。但是一贯本着最适合的才是最好的原则，有时候这就已经够了。

### 5. 设计模式需要背

在早期，去背背设计模式吧！背上了你脑子里有了拓扑结构图，遇到场景的时候就能很快想出来。当然对于大神来说，天天玩设计模式，他们可能不需要背了，但是他们其实无形中已经肌肉记忆了，唯熟而。但是你不一定能做到，这需要天时地利人和。

（这一点可能很多人会觉得我在扯淡！而且个人感觉当程序员的都天命不凡，不喜欢死记硬背，我觉得这是一个误区！这个误区在你记忆力是惊世之才的时候，可能不存在，但可惜的绝大多数人都是普通人。这也是你为什么高中有些古诗词张口就来，让你面试说个知识点磕磕绊绊的，支支吾吾讲不清楚。诚然，理解很重要，但理解了再去背诵记忆会让你更上一层楼。不然知识点在你脑子里永远都是浆糊一样的概念，时间一长就忘了。）

### 6. 平时开发中多想想抽象

虽然我们可能大部分都是CURDers，但是产品的需求总是不断的在变化的，这种变不就是需要高的扩展性吗？在开发一个功能之前，我们应该多思考，哪些地方产品会脑子抽抽的来回改动，这种地方就需要多去抽象来实现后期的高扩展性。

